jQuery(function(b){function m(d){var e,f,h=d.attr("data-lat"),k=d.attr("data-lng");h=new google.maps.LatLng(h,k);k=parseInt(d.attr("data-zoom"));var c=d.attr("id");d=n[parseInt(d.data("style"),10)];d=new google.maps.StyledMapType(d,{name:"styledmap"});a[c]=new function(a,b){this.map=new google.maps.Map(document.getElementById(a),b);this.markers=[];this.infowindows=[]}(c,{zoom:k,disableDefaultUI:!1,scrollwheel:!1,zoomControl:!0,streetViewControl:!0,center:h});a[c].map.mapTypes.set("map_style",d);a[c].map.setMapTypeId("map_style");
var l=0;b('.marker[data-rel="'+c+'"]').each(function(){var d=new google.maps.LatLng(b(this).data("lat"),b(this).data("lng")),e=b(this).data("string"),f=b(this).data("image");b(this).data("i",l).data("map",c);var g=l;a[c].markers[g]=new google.maps.Marker({position:d,map:a[c].map,icon:{url:f}});a[c].infowindows[g]=new google.maps.InfoWindow({content:e});google.maps.InfoWindow.prototype.opened=!0;google.maps.event.addListener(a[c].markers[g],"click",function(){infoWindow.opened?(infoWindow.opened=!1,
a[c].infowindows[0].open(a[c].map,a[c].markers[g])):(a[c].infowindows[0].close(),infoWindow.opened=!0,a[c].infowindows[0].open(a[c].map,a[c].markers[g]))});google.maps.InfoWindow.prototype.opened=!1;infoWindow=new google.maps.InfoWindow;l++});b(".city1").on("click",function(){e=b(this).attr("data-lat");f=b(this).attr("data-lng");a[c].map.setCenter({lat:+e,lng:+f})});b(".city2").on("click",function(){e=b(this).attr("data-lat");f=b(this).attr("data-lng");a[c].map.setCenter({lat:+e,lng:+f})})}var a=
[],n=[[]];b(window).load(function(){var d;b(".map-wrapper").each(function(){m(b(this))});b(".marker").on("click",function(){var e=b(this).data("map"),f=b(this).data("i");d&&d.close();d=a[e].infowindows[f];a[e].infowindows[f].open(a[e].map,a[e].markers[f]);a[e].map.setCenter(new google.maps.LatLng(b(this).data("lat"),b(this).data("lng")))})})});